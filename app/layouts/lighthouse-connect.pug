extends extends/layout.pug
include mixins/sections.pug

block html
	- var meta_title = 'Robonomics Lighthouse'
	- var bodyclass = 'flexcols theme-light'

block content

	+sidebar(1, false)

	.content
		// +panelTop()
		.content-in

			section
				h2
					span.i-lighthouse
					span Lighthouses

				.input-size--lg
					select#select-lighthouseConnect
					#lighthouse-connection.m-t-5

			script.
				var select = new SlimSelect({
					select: '#select-lighthouseConnect',
					data: [
						{placeholder: true, text: 'Choose lighthouse'},
						{label: 'devcon50.lighthouse.5.robonomics.eth',
							options: [{
								innerHTML: '0xf3210eAbEB11FF1389722b2910B9256042d9DE79',
								text: '0xf3210eAbEB11FF1389722b2910B9256042d9DE79',
								value: 'select0',
								selected: true
								}]
						},
						{label: 'a.lighthouse.5.robonomics.eth',
							options: [{
								innerHTML: '0x28f95c484ee55E6aB8A2feF72EB51bC65cdd4324',
								text: '0x28f95c484ee55E6aB8A2feF72EB51bC65cdd4324',
								value: 'select1'
								}]
						},
						{label: 'airalab.lighthouse.5.robonomics.eth',
							options: [{
								innerHTML: '0xD40AC7F1e5401e03D00F5aeC1779D8e5Af4CF9f1',
								text: '0xD40AC7F1e5401e03D00F5aeC1779D8e5Af4CF9f1',
								value: 'select2'
								}]
						},
						{label: 'mobilerobotics.lighthouse.5.robonomics.eth',
							options: [{
								innerHTML: '0x8165ad3d400bda2be5fe27254a5e55e0f393921f',
								text: '0x8165ad3d400bda2be5fe27254a5e55e0f393921f',
								value: 'select3'
								}]
						},

						{label: 'New lighthouse',
							options: [{
								innerHTML: 'create new lighthouse',
								text: 'create new lighthouse',
								value: 'new',
								class:'type-new'
								}]
						}
					],
					onChange: (info) => {
					    console.log(info);
					    if(info.class == 'type-new'){
							document.querySelectorAll('#lighthouse-connection')[0].innerHTML = '<p><label class="t-sm">Name of the lighthouse</label><br/><input type="text" value="" class="input-size--lg"/></p>'
							+ '<p><label class="t-sm">Minimal stake to get one quota (XRT)</label><br/><input type="number" value="0.000001" class="input-size--md"/></p>'
							+ '<p><label class="t-sm">Silence timeout for provider in blocks</label><br/><input type="number" value="25" class="input-size--sm"/></p><button>Create and connect</button>';
							// + '<br/><button class="btn-blue">Create and connect</button>';
					    }
					    else{
					    	// document.querySelectorAll('#lighthouse-connection')[0].innerHTML = info.innerHTML;
					    	document.querySelectorAll('#lighthouse-connection')[0].innerHTML = '<button>Connect</button>';
					    }  	
				  	}
				});